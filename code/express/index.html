<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="utf-8">
    <title>Demo Site with Node and Express | mariosanchez.org</title>
    <meta name="author" content="Mario Sanchez Carrion">
    <meta name="description"
      content="A simple site made with Node and Express, using dynamic routes" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <script src="/js/theme.js"></script>
    <script src="https://kit.fontawesome.com/8a184157fa.js"
      crossorigin="anonymous"></script>
    
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous">
    <link rel="stylesheet" href="/css/all.css">
    <link rel="stylesheet" href="/css/minimal.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel='stylesheet'
      href='//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css'>
  </head>
  
  <body>
    <div class="header"></div>
    <a href="/">
      <div class="avatar">
        <a style="cursor:pointer;">
          <span id="toggle-switch"> <i
              class="fas fa-sun fa-2x hd"></i></span><br />
        </a>
      </div>
    </a>
    <div class="centered logo">
      <a href="/"><img src="/img/mario-pix-dk.png" width="150" /></a>
    </div>
    <nav>
      <ul class="bullet">
        <li>
          <a href="/">tutoring</a>
        </li>
        <li>
          <a href="/coding/">coding</a>
        </li>
        <li>
          <a href="/photos/">photos</a>
        </li>
        <li>
          <a href="/about/">about</a>
        </li>
        </ul>
      </nav>
      <div class="cont">


<main id="main">
  <h2>Demo Site with Node and Express</h2>
  <p class="description">A simple site made with Node and Express, using dynamic routes</p>  
  <hr />
    <article id="content">
    <p><strong>Made with</strong>: <i class="fab fa-node"></i> Node and Express</p>
<p class="bullet"><a href="https://github.com/mariobox/express-demo">Source Files</a>  <a href="https://mjq48.sse.codesandbox.io/">Live Demo</a> <hr class="art"></p>
<p><a href="https://github.com/mariobox/express-demo">Source Files</a> | <a href="https://mjq48.sse.codesandbox.io/">Live Demo</a></p>
<hr class="art" />
<p>Before we go to our example site, let&rsquo;s talk about Express:</p>
<p><a href="https://expressjs.com/">Express</a> is a web framework usually paired with Node. It is a light weight tool that makes it easy to build dynamic web applications.</p>
<p>Since Express is made with JavaScript, you can install it directly from <abbr title="Node Package Manager"><a href="https://www.npmjs.com">NPM</a></abbr>. Once you <a href="https://expressjs.com/en/starter/installing.html">install it</a>, you can build your first Express aplication: a simple <strong>Hello World!</strong> message displayed when you access the <code>/</code> route, or the root of your website (usually that will be your home page):</p>
<p>Open your text editor and create a file called <code>app.js</code> (make sure that during your installation you set the <strong>entry point</strong> in your <code>package.json</code> as <code>app.js</code> instead of <code>index.js</code>).</p>
<p>Then type the following:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js">
<span class="kr">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">()</span>
<span class="kr">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">))</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> 
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Example app listening at http://localhost:</span><span class="si">${</span><span class="nx">port</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
<span class="p">)</span> 

</code></pre></div><p>The first two lines indicate that you want to import Express and that you will assign it to a variable called <code>app</code>.</p>
<p>The port is where you will see your application at work: <a href="http://localhost:3000">http://localhost:3000</a></p>
<p>Then, you will tell the program that when you go to the home page via your root <code>/</code> route, you want it to <strong>send</strong> the phrase <strong>Hello World!</strong> to the browser.</p>
<p>Finally, you instruct the app to listen for changes in port 3000.</p>
<p>Once all that is set up, save the file, go to your command line, and type:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">node app.js 
</code></pre></div><p>Then, navigate to <a href="http://localhost:3000">http://localhost:3000</a>, and you should see this in the browser:</p>
<p>Hello World!</p>
<p>Now, let&rsquo;s say that instead of sending just text you want to send an HTML snippet, for example:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> 
  <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span>
    <span class="s1">&#39;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;p&gt;This is my new website.&lt;/p&gt;&#39;</span>
  <span class="p">)</span>
<span class="p">)</span>
</code></pre></div><p>Save your work, run <code>node app.js</code> again and refresh your browser. You should see someting like this:</p>
<h1>Hello World!</h1>
<p>This is my new website.</p>
<p>Sending a bunch of loose HTML is not very common, though. Most of the time you would like to send a proper HTML document. You just have to place the previous code in an <code>index.html</code> file, save the file in the <code>views</code> folder (Express will find it) and use the <code>render</code> method instead of <code>send</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">))</span>
</code></pre></div><p>The result will be the same as before:</p>
<h1>Hello World!</h1>
<p>This is my new website.</p>
<p>But you can go a step further, and ask Express to insert variables to your websites! Here is where the dynamic nature of Express starts to shine. You can use any templating engine, for example <a href="https://pugjs.org/api/getting-started.html">Pug</a>, and create an <code>index.pug</code> file that looks like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">block content
    h1 Hello World!
    p My name is <span class="si">${</span><span class="nv">name</span><span class="si">}</span>!
</code></pre></div><p>Then, just pass an object with the variable <strong>name</strong> with your render method, like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">name</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">}))</span>
</code></pre></div><p>And your website will display:</p>
<h1>Hello World!</h1>
<p>My name is Joe!</p>
<p>There are many other things that you can do with Express, like grabbing parameters from the URL and passing them to your templates. We will see that in action in our demo site below.</p>
<hr />
<h2 id="demo">Demo</h2>
<p>This is a basic dynamic site made with ExpressJS.</p>
<p>It has an <code>/index</code>, <code>/contact</code> and <code>/about</code> pages, each of them rendered by a basic Express route, and three car-specific pages rendered with Express dynamic routes using parameters taken from the URL.</p>
<p>The aim is not to make a pretty site but just show the basic functionality that Express gives you to build a back-end dynamic site.</p>
<p>The site&rsquo;s home page will present you with a choice of links for three car brands. When you click on those links you are taken to a special page of the individual car brand that you selected and will see a bulleted list with three popular models from that brand.</p>
<p>Even though the pages look very simple, this is not a static site. The pages are generated <strong>on the fly</strong> by Express the moment you click on a link.</p>
<p>If you want to clone this example go here: </p><a href="https://github.com/mariobox/express-demo"><a href="https://github.com/mariobox/express-demo">https://github.com/mariobox/express-demo</a>.</a></p>
<p>If you want to play around with the site, you can use the embedded page below:</p>
<iframe src="https://mjq48.sse.codesandbox.io/" title="Express Demo" width="100%" height="850px" frameborder="1px"></iframe>
<p>Demo hosted in <a href="https://codesandbox.com">Codesandbox</a></p>

    </article>  
</main>
<p class="small upper light">Last updated: May 18, 2020</p>


<hr />

<br />
<br />
  <p class="centered">
    <span class="social">  
      <a href="https://mariosanchez.org/posts/index.xml" title="RSS"><i class="fa ft fa-rss" aria-hidden="true"></i></a>
      <a href="https://www.linkedin.com/in/mariobox/" title="Linkedin"><i class="fab ft fa-linkedin fa-lg"></i></a>
      <a href="https://github.com/mariobox" title="Github"><i class="fab ft fa-github fa-lg"></i></a>
      <a href="mailto:mario@mariosanchez.org" title="Email"><i class="fas ft fa-envelope fa-lg"></i></a>
    </span>
  </p>
  <p class="centered small">
    &copy; 2024 Mario Sanchez Carrion
  </p>
  
</div>
<script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>


</body>
</html>


